<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>STONKS</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <script type="application/javascript">
            var check_ws = null;
            var symbols = [];
            var sorted_by = "delta";
            var sorted_direction = "descending";
            var column_index = 3;
            var ii = 0;
            var canvas_interval;
            var websocket = null;
            var data_recv;
            var clear_called = false;
            function defer(method,condition){
                if(condition){
                    method()
                } else {
                    setTimeout(()=>{defer(method,condition);},100);
                }
            }
            function isIterable(obj) {
                if (obj == null) {
                    return false;
                }
                return typeof obj[Symbol.iterator] === 'function';
            }
            function sortTable() {
                var prev_sorted_by = sorted_by;
                switch(column_index){
                    case 0:
                        sorted_by = "symbol";
                        break;
                    case 1:
                        sorted_by = "start_price";
                        break;
                    case 2:
                        sorted_by = "price";
                        break;
                    case 3:
                        sorted_by = "delta";
                        break;
                }
                if(sorted_direction == ""){
                    sorted_direction = "descending";
                }
                var table, rows, switching, i, x, y, shouldSwitch;
                table = document.getElementById("tickers");
                switching = true;
                while (switching) {
                    switching = false;
                    rows = table.rows;
                    for (i = 1; i < (rows.length - 1); i++) {
                        shouldSwitch = false;
                        if(column_index == 0){
                            x = rows[i].getElementsByTagName("TD")[column_index].innerHTML.toLowerCase()[0].charCodeAt();
                            y = rows[i + 1].getElementsByTagName("TD")[column_index].innerHTML.toLowerCase()[0].charCodeAt();
                        } else {
                            x = parseFloat(rows[i].getElementsByTagName("TD")[column_index].innerHTML);
                            y = parseFloat(rows[i + 1].getElementsByTagName("TD")[column_index].innerHTML);
                        }
                        if(sorted_direction == "descending"){
                            if (x < y) {
                                shouldSwitch = true;
                                break;
                            }
                        } else {
                            if(x > y){
                                shouldSwitch = true;
                                break;
                            }
                        }
                    }
                    if (shouldSwitch) {
                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                        switching = true;
                    }
                }
            }
            function sortTable_onclick() {
                var prev_sorted_by = sorted_by;
                switch(column_index){
                    case 0:
                        sorted_by = "symbol";
                        break;
                    case 1:
                        sorted_by = "start_price";
                        break;
                    case 2:
                        sorted_by = "price";
                        break;
                    case 3:
                        sorted_by = "delta";
                        break;
                }
                if(sorted_direction == ""){
                    sorted_direction = "descending";
                } else {
                    if(prev_sorted_by == sorted_by){
                        if(sorted_direction == "ascending"){
                            sorted_direction = "descending";
                        } else {
                            sorted_direction = "ascending";
                        }
                    } else {
                        sorted_direction = "descending";
                    }
                }
                var table, rows, switching, i, x, y, shouldSwitch;
                table = document.getElementById("tickers");
                switching = true;
                while (switching) {
                    switching = false;
                    rows = table.rows;
                    for (i = 1; i < (rows.length - 1); i++) {
                        shouldSwitch = false;
                        if(column_index == 0){
                            x = rows[i].getElementsByTagName("TD")[column_index].innerHTML.toLowerCase()[0].charCodeAt();
                            y = rows[i + 1].getElementsByTagName("TD")[column_index].innerHTML.toLowerCase()[0].charCodeAt();
                        } else {
                            x = parseFloat(rows[i].getElementsByTagName("TD")[column_index].innerHTML);
                            y = parseFloat(rows[i + 1].getElementsByTagName("TD")[column_index].innerHTML);
                        }
                        if(sorted_direction == "descending"){
                            if (x < y) {
                                shouldSwitch = true;
                                break;
                            }
                        } else {
                            if(x > y){
                                shouldSwitch = true;
                                break;
                            }
                        }
                    }
                    if (shouldSwitch) {
                        rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                        switching = true;
                    }
                }
            }
            function makeRow(symbol){
                console.log("makeRow called");
                if(!document.getElementById(symbol)){
                    $.ajax({
                        type: "GET",
                        url: "https://finnhub.io/api/v1/quote?symbol=" + symbol + "&token=c3dii32ad3icrjj6j6ig",
                        data : {format : 'plain'},
                        success: function(response) {
                            if (!response){
                                return;
                            }
                            var open_price = response.o;
                            var current_price = response.c;
                            var open = parseFloat(open_price);
                            var newp = parseFloat(current_price);
                            var diff = newp - open;
                            var tr = document.createElement("tr");  // row
                            var tds = document.createElement("td"); // symbol
                            var tdo = document.createElement("td"); // open price
                            var tdp = document.createElement("td"); // current price
                            var tdd = document.createElement("td"); // delta
                            tr.id = symbol;                         // row
                            tds.innerHTML = symbol;                 // symbol
                            tds.id = symbol + "_";
                            tdo.innerHTML = open_price;             // open price
                            tdo.id = symbol + "_open";
                            tdp.innerHTML = current_price;          // current price
                            tdp.id = symbol + "_price";
                            tdd.id = symbol + "_delta";             // delta
                            if(diff < 0){
                                tdd.style.color = "red";
                                tdd.innerHTML = diff.toFixed(4);
                            } else {
                                tdd.style.color = "green";
                                tdd.innerHTML = diff.toFixed(4);
                            }
                            tr.appendChild(tds);    // symbol
                            tr.appendChild(tdo);    // open price
                            tr.appendChild(tdp);    // current price
                            tr.appendChild(tdd);    // delta
                            if(!clear_called){
                                document.getElementById("tickers").appendChild(tr); // add row to table
                            }
                            sortTable();
                        }
                    });
                }
            }
            function websocket_onmessage(e){
                console.log("websocket_onmessage called");
                data_recv = e.data;
                var j = JSON.parse(e.data);
                if(isIterable(j.data)){
                    [...j.data].forEach((i)=>{
                        var symbol = i.s;
                        var price = i.p;
                        if(!document.getElementById(symbol)){
                            var tr = document.createElement("tr");
                            var tds = document.createElement("td");
                            var tdo = document.createElement("td");
                            var tdp = document.createElement("td");
                            var tdd = document.createElement("td");
                            tr.id = symbol;
                            tds.innerHTML = symbol;
                            tds.id = symbol + "_";
                            tdp.innerHTML = parseFloat(price);
                            tdp.id = symbol + "_price";
                            tdd.id = symbol + "_delta";
                            $.ajax({
                                type: "GET",
                                url: "https://finnhub.io/api/v1/quote?symbol=" + symbol + "&token=c3dii32ad3icrjj6j6ig",
                                data : {format : 'plain'},
                                success: function(response) {
                                    if (!response){
                                        return;
                                    }
                                    var open = parseFloat(response.o);
                                    tdo.id = symbol + "_open";
                                    tdo.innerHTML = open;
                                    var newp = parseFloat(price);
                                    var diff = newp - open;
                                    if(diff < 0){
                                        tdd.style.color = "red";
                                        tdd.innerHTML = diff.toFixed(4);
                                    } else {
                                        tdd.style.color = "green";
                                        tdd.innerHTML = diff.toFixed(4);
                                    }
                                    tr.appendChild(tds);
                                    tr.appendChild(tdo);
                                    tr.appendChild(tdp);
                                    tr.appendChild(tdd)
                                    document.getElementById("tickers").appendChild(tr);
                                }
                            });
                        } else {
                            var open = parseFloat(document.getElementById(symbol + "_open").innerHTML);
                            var newp = parseFloat(price);
                            var diff = newp - open;
                            document.getElementById(symbol + "_price").innerHTML = price;
                            if(diff < 0){
                                document.getElementById(symbol + "_delta").style.color = "red";
                                document.getElementById(symbol + "_delta").innerHTML = diff.toFixed(4);
                            } else {
                                document.getElementById(symbol + "_delta").style.color = "green";
                                document.getElementById(symbol + "_delta").innerHTML = diff.toFixed(4);
                            }
                        }
                        sortTable();
                    });
                } else {
                    if(j.type != 'ping'){
                        var symbol = j.data.s
                        var price = j.data.p
                        if(!document.getElementById(symbol)){
                            var tr = document.createElement("tr");
                            var tds = document.createElement("td");
                            var tdo = document.createElement("td");
                            var tdp = document.createElement("td");
                            var tdd = document.createElement("td");
                            tr.id = symbol;
                            tds.innerHTML = symbol;
                            tds.id = symbol + "_";
                            tdp.innerHTML = parseFloat(price);
                            tdp.id = symbol + "_price";
                            tdd.id = symbol + "_delta";
                            $.ajax({
                                type: "GET",
                                url: "https://finnhub.io/api/v1/quote?symbol=" + symbol + "&token=c3dii32ad3icrjj6j6ig",
                                data : {format : 'plain'},
                                success: function(response) {
                                    if (!response){
                                        return;
                                    }
                                    var open = parseFloat(response.o);
                                    tdo.id = symbol + "_open";
                                    tdo.innerHTML = open;
                                    var newp = parseFloat(price);
                                    var diff = newp - open;
                                    if(diff < 0){
                                        tdd.style.color = "red";
                                        tdd.innerHTML = diff.toFixed(4);
                                    } else {
                                        tdd.style.color = "green";
                                        tdd.innerHTML = diff.toFixed(4);
                                    }
                                    tr.appendChild(tds);
                                    tr.appendChild(tdo);
                                    tr.appendChild(tdp);
                                    tr.appendChild(tdd)
                                    document.getElementById("tickers").appendChild(tr);
                                }
                            });
                        } else {
                            var open = parseFloat(document.getElementById(symbol + "_open").innerHTML);
                            var newp = parseFloat(price);
                            var diff = newp - open;
                            document.getElementById(symbol + "_price").innerHTML = price;
                            if(diff < 0){
                                document.getElementById(symbol + "_delta").style.color = "red";
                                document.getElementById(symbol + "_delta").innerHTML = diff.toFixed(4);
                            } else {
                                document.getElementById(symbol + "_delta").style.color = "green";
                                document.getElementById(symbol + "_delta").innerHTML = diff.toFixed(4);
                            }
                        }
                        sortTable();
                    }
                }
            }
            function websocket_onopen(e){
                document.getElementById("waiting").style.visibility = "hidden";
                check_ws = setInterval(show_websocket_state,500);
                [...document.body.getElementsByClassName("waiting")].forEach((i)=>{
                    i.style.display = "none";
                });
                document.getElementById("success").style.display = "block";
                symbols.forEach((i)=>{
                    setTimeout(()=>{
                        websocket.send(JSON.stringify({'type':'subscribe', 'symbol': i}));
                    },100);
                });
            }
            function makeWebSocket(){
                websocket = null;
                while(!websocket){
                    try {
                        websocket = new WebSocket("wss://ws.finnhub.io?token=c3dii32ad3icrjj6j6ig");
                        websocket.addEventListener("open",websocket_onopen);
                        websocket.addEventListener("message",websocket_onmessage);
                    }
                    catch {}
                }
            }
            function start_marqee(){
                var canvas = document.getElementById("datCanvas");
                canvas.height = 35;
                ii = 515;
                var marqee = "Add your comma separated list of tickers in the text box below, then strike ENTER.";
                canvas_interval = setInterval(function(){
                    var w = 515;
                    canvas.width = w;
                    var ctx = canvas.getContext("2d");
                    ctx.clearRect(0,0,canvas.width,canvas.height);
                    ctx.font = "bold 18px Segoe UI";
                    ctx.textBaseline = "top";
                    ctx.fillStyle = "#7FFF00";
                    ctx.fillText(marqee, ii, 0);
                    ii--;
                    if(ii <= -703.661983366935){ ii = 515; };
                },10);
            }
            document.addEventListener("DOMContentLoaded",function(){
                start_marqee();
                document.getElementById("comsep").addEventListener("input",responsive_ta);
                document.getElementById("addtickers").style.width = "515px";
                document.getElementById("sy").onclick = symbol_onclick;
                document.getElementById("sp").onclick = start_price_onclick;
                document.getElementById("pr").onclick = price_onclick;
                document.getElementById("de").onclick = delta_onclick;
                document.getElementById("comsep").addEventListener("keydown",ta_keyup);
            });
            function symbol_onclick(){
                column_index = 0;
                sortTable_onclick();
                if(sorted_direction == "descending"){
                    document.getElementById("sy").innerHTML = "SYMBOL &darr;";
                } else {
                    document.getElementById("sy").innerHTML = "SYMBOL &uarr;";
                }
                document.getElementById("sy").style.backgroundColor = "chartreuse";
                document.getElementById("sy").style.color = "black";
                ['sp','pr','de'].forEach((i)=>{
                    document.getElementById(i).style.backgroundColor = "black";
                    document.getElementById(i).style.color = "white";
                });
                document.getElementById('sp').innerHTML = "MARKET OPEN";
                document.getElementById('pr').innerHTML = "PRICE";
                document.getElementById('de').innerHTML = "&Delta;";
            }
            function start_price_onclick(){
                column_index = 1;
                sortTable_onclick();
                if(sorted_direction == "descending"){
                    document.getElementById("sp").innerHTML = "MARKET OPEN &darr;";
                } else {
                    document.getElementById("sp").innerHTML = "MARKET OPEN &uarr;";
                }
                document.getElementById("sp").style.backgroundColor = "chartreuse";
                document.getElementById("sp").style.color = "black";
                ['sy','pr','de'].forEach((i)=>{
                    document.getElementById(i).style.backgroundColor = "black";
                    document.getElementById(i).style.color = "white";
                });
                document.getElementById('sy').innerHTML = "SYMBOL";
                document.getElementById('pr').innerHTML = "PRICE";
                document.getElementById('de').innerHTML = "&Delta;";
            }
            function price_onclick(){
                column_index = 2;
                sortTable_onclick();
                if(sorted_direction == "descending"){
                    document.getElementById("pr").innerHTML = "PRICE &darr;";
                } else {
                    document.getElementById("pr").innerHTML = "PRICE &uarr;";
                }
                document.getElementById("pr").style.backgroundColor = "chartreuse";
                document.getElementById("pr").style.color = "black";
                ['sp','sy','de'].forEach((i)=>{
                    document.getElementById(i).style.backgroundColor = "black";
                    document.getElementById(i).style.color = "white";
                });
                document.getElementById('sp').innerHTML = "MARKET OPEN";
                document.getElementById('sy').innerHTML = "SYMBOL";
                document.getElementById('de').innerHTML = "&Delta;";
            }
            function delta_onclick(){
                column_index = 3;
                sortTable_onclick();
                if(sorted_direction == "descending"){
                    document.getElementById("de").innerHTML = "&Delta; &darr;";
                } else {
                    document.getElementById("de").innerHTML = "&Delta; &uarr;";
                }
                document.getElementById("de").style.backgroundColor = "chartreuse";
                document.getElementById("de").style.color = "black";
                ['sp','pr','sy'].forEach((i)=>{
                    document.getElementById(i).style.backgroundColor = "black";
                    document.getElementById(i).style.color = "white";
                });
                document.getElementById('sp').innerHTML = "MARKET OPEN";
                document.getElementById('pr').innerHTML = "PRICE";
                document.getElementById('sy').innerHTML = "SYMBOL";
            }
            function addSymbols(){
                clear_called = false;
                var sym = document.getElementById("comsep").value.trim();
                var er = [];
                if(sym.length >= 6 & !sym.match(",")){
                    document.getElementById("erroneous").style.display = "block";
                    setTimeout(function(){ document.getElementById("erroneous").style.display = "none"; },5000);
                } else {
                    [...sym.split(",")].forEach((i)=>{
                        if(symbols.indexOf(i) == -1){
                            symbols.push(i);
                        }
                    });
                }
                if(!websocket){
                    makeWebSocket();
                } else {
                    if(websocket.readyState != 1){
                        makeWebSocket();
                    }
                }
                symbols.forEach((i)=>{
                    var s = i;
                    if(!document.getElementById(i)){
                        try {
                            makeRow(i);
                        }
                        catch(err) {
                            var e = {"symbol": "", "error": ""};
                            e.symbol = s;
                            e.error = err.message;
                            er.push(e);
                        }
                        try {
                            websocket.send(JSON.stringify({'type':'subscribe', 'symbol': i}));
                        } 
                        catch(err) {
                            var e = {"symbol": "", "error": ""};
                            e.symbol = s;
                            e.error = err.message;
                            er.push(e);
                        }
                    }
                });
                if(er.length > 0){
                    document.getElementById("erroneous").innerHTML = JSON.stringify(er);
                } else {
                    document.getElementById("added").style.display = "block";
                    setTimeout(function(){ document.getElementById("added").style.display = "none"; },5000);
                }
                var all_tickers = document.getElementById("comsep").value.trim().split(",");
                all_tickers.forEach((i)=>{
                    setTimeout(()=>{
                        document.getElementById("comsep").value = document.getElementById("comsep").value.replace("," + i,"");
                        make_ticker_button(i);
                    },100);
                });
                document.getElementById("comsep").style.display = "none";
            }
            function show_websocket_state(){
                if(!websocket){
                    document.getElementById("success").innerHTML = "null websocket";
                    return;
                } else {
                    var state = websocket.readyState;
                    switch(state){
                        case 0:
                            document.getElementById("success").innerHTML = "WebSocket connecting ...";
                            break;
                        case 1:
                            document.getElementById("success").innerHTML = "WebSocket ready!";
                            break;
                        case 2:
                            document.getElementById("success").innerHTML = "WebSocket closing ...";
                            break;
                        case 3:
                            document.getElementById("success").innerHTML = "WebSocket closed!";
                            break;
                    }
                }
            }
            function hide_show_row(){
                console.log(this.getAttribute("data-color"));
                var symbol = this.id.replace("button","").toUpperCase();
                var id = this.id;
                switch(this.getAttribute("data-color")){
                    case "blue":
                        this.setAttribute("data-color","chartreuse");
                        document.getElementById(symbol).style.display = "none";
                        this.style.backgroundColor = "chartreuse";
                        this.title = "Show the " + symbol.toUpperCase() + " row (currently hidden)";
                        break;
                    case "chartreuse":
                        this.setAttribute("data-color","blue");
                        document.getElementById(symbol).style.display = "table-row";
                        this.style.backgroundColor = "blue";
                        this.title = "Hides " + symbol.toUpperCase() + " row from the table";
                        break;
                }
            }
            function clearSymbols(){
                clear_called = true;
                [...document.body.getElementsByTagName("tr")].forEach((i)=>{
                    if(i.children[0].tagName.toLowerCase() != "th"){
                        [...i.children].forEach((a)=>{
                            a.innerHTML = "";
                        });
                        i.parentElement.removeChild(i);
                    }
                });
                [...document.getElementById("tickerbuttons").children].forEach((i)=>{
                    i.parentElement.removeChild(i);
                });
                document.getElementById("comsep").style.display = "inline-block";
                websocket.close();
                websocket = null;
                symbols = [];
                document.getElementById("comsep").value = "";
                document.getElementById("comsep").setAttribute("placeholder","AMC,NTLA,SESN,HCM,BCRX,LX,TELL,BB,EXPR,WKHS,WISH,EDIT,SOFI,CRCT");
                document.getElementById("comsep").style.width = "100%";
                document.getElementById("comsep").style.height = "";
                document.getElementById("waiting").style.visibility = "";
            }
            function make_ticker_button(symbol){
                var parent = document.getElementById("tickerbuttons");
                parent.style.width = document.getElementById("tickers").offsetWidth + "px";
                var button = document.createElement("button");
                button.classList.add("tickbutton");
                button.id = symbol.toLowerCase() + "button";
                button.innerHTML = symbol.toUpperCase();
                button.setAttribute("data-symbol",symbol.toUpperCase());
                button.setAttribute("data-color","blue");
                button.title = "Hides " + symbol.toUpperCase() + " row from the table";
                button.addEventListener("click",hide_show_row);
                parent.appendChild(button);
            }
            function ta_keyup(event){
                if(event.keyCode == 13){
                    addSymbols();
                }
            }
            function responsive_ta(){
                if(!document.getElementById("comsep").value){
                    document.getElementById("comsep").setAttribute("placeholder","AMC,NTLA,SESN,HCM,BCRX,LX,TELL,BB,EXPR,WKHS,WISH,EDIT,SOFI,CRCT");
                    document.getElementById("comsep").style.width = "100%";
                    document.getElementById("comsep").style.height = "";
                } else {
                    document.getElementById("width").innerHTML = document.getElementById("comsep").value.trim();
                    var w = (document.getElementById("width").clientWidth + 1) + "px";
                    var h = (document.getElementById("width").clientHeight + 1) + "px";
                    console.log(JSON.stringify({width: w,height: h}));
                    document.getElementById("comsep").style.width = w;
                    document.getElementById("comsep").style.height = h;
                    document.getElementById("width").innerHTML = "";
                }
            };
        </script>
        <style type="text/css">
            #tickers {
                table-layout: fixed;
                white-space: nowrap;
                width: 100%;
            }
            table,tr,th,td {
                border-collapse: collapse;
                border: 1px solid white;
            }
            th,td {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
                font-size: 12px;
                background-color: black;
                color: white;
                padding: 5px;
            }
            body {
                background-color: black;
                color: white;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
                font-size: 12px;
                white-space: nowrap;
            }
            .headbutt{
                background-color: black;
                color: white;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
                font-size: 12px;
                width: 100%;
            }
            .tickbutton {
                background-color: blue;
                color: white;
                font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
                font-size: 12px;
            }
            .heading {
                text-decoration: underline;
            }
            .container {
                width: 75%;
                margin: auto;
            }
            .waiting {
                color: chartreuse;
            }
            textarea {
                width: 100%;
                overflow: hidden;
                resize: none;
                background-color:rgb(0, 18, 97);
                color: white;
                font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
                font-size: 12px;
            }
            #width {
                position: absolute;
                visibility: hidden;
                height: auto;
                width: auto;
                white-space: nowrap;
                font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
                font-size: 12px;
            }
            #tickerbuttons {
                display: block;
                white-space: normal;

            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1 class="heading">STONKS</h1>
        </div>
        <div class="container" id="maindiv">
            <div id="addtickers">
                <div id="waiting"><canvas id="datCanvas"></canvas></div>
                <div id="added" style="color: chartreuse; display: none;">Successfully added all tickers!</div>
                <textarea rows="1" spellcheck="false" id="comsep" placeholder="AMC,NTLA,SESN,HCM,BCRX,LX,TELL,BB,EXPR,WKHS,WISH,EDIT,SOFI,CRCT"></textarea>
                <div id="tickerbuttons"></div>
                <button onclick="clearSymbols();" style="font-weight: bold; width: 130px; display: inline;background-color: red; color: white; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;" id="buttonadd">Clear All Tickers</button>
                <div id="erroneous" style="color: red; display: none;">Please ensure that your list of tickers is comma delimited.</div>
                <div><span id="success" style="color: chartreuse;"></span></div>
                <div><span style="color:blue;">Click a column header to sort</span></div>
                <table id="tickers">
                    <colgroup>
                        <col style="width: 100px;"/>
                        <col style="width: 100px;"/>
                        <col style="width: 100px;"/>
                        <col style="width: 100px;"/>
                    </colgroup>
                    <tr>
                        <th style="width: 100px;"><button class="headbutt" id="sy">SYMBOL</button></th>
                        <th style="width: 100px;"><button class="headbutt" id="sp">MARKET OPEN</button></th>
                        <th style="width: 100px;"><button class="headbutt" id="pr">PRICE</button></th>
                        <th style="width: 100px;"><button class="headbutt" style="background-color: chartreuse; color: black;" id="de">&Delta; &darr;</button></th>
                    </tr>
                </table>
            </div>
        </div>
        <div id="measure"><span style="visibility: hidden;" id="width"></span></div>
    </body>
</html>
